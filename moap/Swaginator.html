<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="pragma" content="no-cache" />
  <meta http-equiv="expires" content="0" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LSL Message</title>
  <style>
    /* — Banner, multi-line, no scrollbars — */
    :root{
      --bg:#0f1115;                 /* background */
      --fg:#e9eef5;                 /* text colour */
      --font:ui-sans-serif,system-ui,-apple-system,'Segoe UI',Roboto,
             'Helvetica Neue',Arial,'Noto Sans','Liberation Sans',sans-serif;

      --align:center;               /* left | center | right */
      --pad:2vmin;                  /* inner padding */
      --max-lines:3;                /* <<< set 2 or 3 here */
      --line:1.1;                  /* line-height (tweak 1.1–1.25) */

      /* font-size = (viewport height minus padding) / lines, with guard rails */
      /*
Want 3 lines? Set --max-lines:3; (font auto-shrinks to fit).

Text still a hair too big/small? Nudge the 0.92 factor up/down.

Need tighter lines? Drop --line to 1.1.

Center vs left: change --align.
      */
      --size:clamp(12px,
                   calc((100vh - (var(--pad) * 2)) / var(--max-lines) * 0.90),
                   96px);
    }

    *{ box-sizing:border-box; }

    html, body{
      margin:0; padding:0; height:100%;
      background:var(--bg); color:var(--fg); font-family:var(--font);
      overflow:hidden;                    /* no scrollbars */
    }

    .wrap{ width:100vw; height:100vh; padding:0; }
    .card{
      width:100vw; height:100vh;
      background:var(--bg);
      border:0; border-radius:0; box-shadow:none;
      display:grid; place-items:center;
      padding:0;
    }

    .msg{
      padding:var(--pad);
      font-size:var(--size);
      line-height:var(--line);
      text-align:var(--align);
      white-space:normal;                 /* allow wrapping & <br> */
      word-break:break-word;
      overflow-wrap:anywhere;
      hyphens:auto;

      /* clamp to N lines, ellipsis at end */
      display:-webkit-box;
      -webkit-box-orient:vertical;
      -webkit-line-clamp:var(--max-lines);
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .accent{ display:none; }
    ::-webkit-scrollbar{ width:0; height:0; } /* belt-and-braces */
  </style>


</head>
<body>
  <div class="wrap">
    <div class="card">
      <div id="message" class="msg">…</div>
      <div class="accent" aria-hidden="true"></div>
    </div>
  </div>

  <script>
    (function () {
      // ---- config you might tweak in one place ----
      var MAX_LEN = 250;

      function escapeHTML(s) {
        return s
          .replace(/&/g, "&amp;")
          .replace(/</g, "&lt;")
          .replace(/>/g, "&gt;")
          .replace(/"/g, "&quot;")
          .replace(/'/g, "&#39;");
      }

      function getParam(name) {
        var params = new URLSearchParams(window.location.search);
        return params.get(name);
      }

      var raw = getParam("t") || "";
      // normalize whitespace; keep intentional newlines
      // If you *don’t* want line breaks, swap the <br> with a single space join.
      raw = raw.replace(/\r\n/g, "\n").replace(/\r/g, "\n");

      // Enforce limit
      var trimmed = raw;
      if (trimmed.length > MAX_LEN) {
        trimmed = trimmed.slice(0, MAX_LEN - 1) + "…";
      }

      // Escape then convert newlines to <br>
      // BEFORE: var safe = escapeHTML(trimmed).replace(/\n/g, "<br/>");
      var safe = escapeHTML(trimmed).replace(/\n/g, "<br/>");



      // Fallback placeholder if empty
      if (!safe || safe.trim().length === 0) {
        safe = "<span style='opacity:.7'>(no message)</span>";
      }

      document.getElementById("message").innerHTML = safe;
    })();
  </script>
</body>
</html>
